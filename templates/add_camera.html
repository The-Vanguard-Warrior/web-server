<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" 
            content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <script src="https://cdn.tailwindcss.com"></script>
        <title>Guardian</title>
        
    </head>
    <body class="relative h-screen w-screen bg-slate-200 px-8 py-4">
        <header class="flex items-center justify-between px-8 bg-slate-200 h-20 fixed top-0 left-0 w-screen z-10">
            <div class="flex gap-5 items-center justify-center">
                <img src="https://firebasestorage.googleapis.com/v0/b/chat-app-cd9ef.appspot.com/o/robot.png?alt=media&token=adb28976-5b8b-4261-ad61-d4b563ebca1e" alt="bot" class="h-20"/>
                <img src="https://firebasestorage.googleapis.com/v0/b/chat-app-cd9ef.appspot.com/o/guardian-logo.png?alt=media&token=9761e98f-6af7-48f6-b4bd-277c103dfc39" alt="logo" class="h-80"/>
            </div>
            <nav class="flex gap-10 text-xl">
                <a href="/" class="text-white bg-blue-500 px-4 py-2 rounded-lg hover:bg-white hover:text-blue-500 active:scale-75 transform transition duration-300 ease-in-out">Home</a>
                <!-- <a href="#" class="text-white bg-blue-500 px-4 py-2 rounded-lg hover:bg-white hover:text-blue-500 active:scale-75 transform transition duration-300 ease-in-out">Add location</a> -->
            </nav>
        </header>
        <form class="mt-40" id="camera-form">
            <div class="mb-4">
              <label for="ip_adress" class="block text-gray-700 font-bold mb-2">IP address (ex: 192.168.2.3)</label>
              <input type="text" id="ip_address" name="ip_address" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" placeholder="If it's not an IP camera, enter 0" required>
            </div>
            <div class="mb-4">
                <label for="device_type" class="block text-gray-700 font-bold mb-2">Device Type</label>
                <select id="device_type" name="device_type" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" required>
                  <option value="">Select device type</option>
                  <option value="ip_cam">IP Camera</option>
                  <option value="not_ip_cam">Not IP Camera</option>
                </select>
              </div>
            <div class="flex justify-end">
              <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline active:scale-75 transform transition duration-300 ease-in-out">Add Camera</button>
            </div>
        </form>
        <script>
            const form = document.getElementById('camera-form');
            form.addEventListener('submit', async (event) => {
              event.preventDefault();
        
              const formData = new FormData(form);
              const response = await fetch('/post_camera', {
                method: 'POST',
                body: formData
              });
        
              if (response.ok) {
                console.log('Camera data uploaded successfully!');
                window.location = '/';
              } else {
                console.error('Error uploading camera data:', response.status);
              }
            });
          </script>
    </body>
</html>